import{J as m,K as S,L as V,M as D,N as y,O as _,P as N,Q as I,c as l,R as Y,T as H,U as M,V as P,W as j,X as k,Y as C,a as W,p as $,h as w,F,e as G,j as J,n as E,k as K,G as Q,Z as U,o as X,_ as Z}from"./runtime.CWJnnQo5.js";import{a as q,r as A,h as b}from"./events.FpVn9NNz.js";import{b as z}from"./disclose-version.CoDnOFHG.js";const B=["touchstart","touchmove"];function x(e){return B.includes(e)}function ae(e,r){var s=r==null?"":typeof r=="object"?r+"":r;s!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=s,e.nodeValue=s==null?"":s+"")}function ee(e,r){return L(e,r)}function ie(e,r){m(),r.intro=r.intro??!1;const s=r.target,t=w,o=l;try{for(var n=S(s);n&&(n.nodeType!==8||n.data!==V);)n=D(n);if(!n)throw y;_(!0),N(n),I();const f=L(e,{...r,anchor:n});if(l===null||l.nodeType!==8||l.data!==Y)throw H(),y;return _(!1),f}catch(f){if(f===y)return r.recover===!1&&M(),m(),P(s),_(!1),ee(e,r);throw f}finally{_(t),N(o)}}const d=new Map;function L(e,{target:r,anchor:s,props:t={},events:o,context:n,intro:f=!0}){m();var v=new Set,g=u=>{for(var a=0;a<u.length;a++){var i=u[a];if(!v.has(i)){v.add(i);var c=x(i);r.addEventListener(i,b,{passive:c});var R=d.get(i);R===void 0?(document.addEventListener(i,b,{passive:c}),d.set(i,1)):d.set(i,R+1)}}};g(j(q)),A.add(g);var p=void 0,O=k(()=>{var u=s??r.appendChild(C());return W(()=>{if(n){$({});var a=J;a.c=n}o&&(t.$$events=o),w&&z(u,null),p=e(u,t)||{},w&&(F.nodes_end=l),n&&G()}),()=>{var c;for(var a of v){r.removeEventListener(a,b);var i=d.get(a);--i===0?(document.removeEventListener(a,b),d.delete(a)):d.set(a,i)}A.delete(g),u!==s&&((c=u.parentNode)==null||c.removeChild(u))}});return T.set(p,O),p}let T=new WeakMap;function ue(e,r){const s=T.get(e);return s?(T.delete(e),s(r)):Promise.resolve()}function re(e,r,s){if(e==null)return r(void 0),E;const t=K(()=>e.subscribe(r,s));return t.unsubscribe?()=>t.unsubscribe():t}let h=!1;function oe(e,r,s){const t=s[r]??(s[r]={store:null,source:U(void 0),unsubscribe:E});if(t.store!==e)if(t.unsubscribe(),t.store=e??null,e==null)t.source.v=void 0,t.unsubscribe=E;else{var o=!0;t.unsubscribe=re(e,n=>{o?t.source.v=n:Z(t.source,n)}),o=!1}return X(t.source)}function de(){const e={};return Q(()=>{for(var r in e)e[r].unsubscribe()}),e}function fe(e){var r=h;try{return h=!1,[e(),h]}finally{h=r}}export{ae as a,oe as b,fe as c,ie as h,ee as m,de as s,ue as u};
